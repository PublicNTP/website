!function(e){e(function(){var t=500;e(".connect__input").focus(function(){e(e(this).siblings("label")[0]).addClass("connect__label--focused")}),Stripe.setPublishableKey("pk_test_hagCUEZIKkraUVhbV6gnNbB4"),e(".donate__button--submit").click(function(){e("#donation-processing").text("Processing donation"),e("#error-message").text("");var a=e("input[name=first_name]").val(),n=e("input[name=last_name]").val(),r=e("input[name=email]").val(),i=e("input[name=address]").val(),s=e("input[name=line_2]").val(),o=e("input[name=city]").val(),u=e("input[name=state]").val(),l=e("input[name=zip]").val(),m=e("input[name=card_number]").val(),p=e("input[name=ccv]").val(),c=e("input[name=expiration]").val(),d="",v=null,g=null,x=!1;-1!=c.indexOf("/")?(c=c.split("/"),v=c[0],g=c[1]):(d="Expiration Date must have a /",e("#error-message").text(d),x=!0),""!=a&&null!=a||(x=!0,d+="First name is required",e("#error-message").text(d)),""!=n&&null!=n||(x=!0,d+="Last name is required",e("#error-message").text(d)),""!=r&&null!=r||(x=!0,d+="Email is required",e("#error-message").text(d)),""!=i&&null!=i||(x=!0,d+="Address is required",e("#error-message").text(d)),""!=o&&null!=o||(x=!0,d+="City is required",e("#error-message").text(d)),""!=u&&null!=u||(x=!0,d+="State is required",e("#error-message").text(d)),""!=l&&null!=l||(x=!0,d+="Zip Code is required",e("#error-message").text(d)),Stripe.card.validateCardNumber(m)||(x=!0,d+="The credit card number appears to be invalid.",e("#error-message").text(d)),Stripe.card.validateCVC(p)||(x=!0,d+="The CVC number appears to be invalid.",e("#error-message").text(d)),Stripe.card.validateExpiry(v,g)||(x=!0,d+="The expiration date appears to be invalid.",e("#error-message").text(d)),x||Stripe.card.createToken({number:m,cvc:p,exp_month:v,exp_year:g},function(l,m){if(m.error)d+=m.error.message,e("#error-message").val(d);else{var p={payment_info:{required:{stripe_key:"test",amount:t,currency:"usd",source:m.id,description:"Test Donation"},optional:{donor_info:{donor_name:{last:n,first:a},address:{street_lines:[i,s],city:o,state_province_region:u,country:"US"},email:[r]}}}};e.ajax({url:"https://api.publicntp.org/v1/payment/request",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(p),success:function(a){"succeeded"===a.status&&swal("Donation Sent","Thank you for your $"+t/100+" donation!","success").then(function(){e("input[name=first_name]").val(""),e("input[name=last_name]").val(""),e("input[name=email]").val(""),e("input[name=address]").val(""),e("input[name=line_2]").val(""),e("input[name=city]").val(""),e("input[name=state]").val(""),e("input[name=zip]").val(""),e("input[name=card_number]").val(""),e("input[name=ccv]").val(""),e("input[name=expiration]").val(""),e("#error-message").text(""),e("#donation-processing").text("")}),"error"===a.status&&(swal("Oops...",a.message,"error"),e("#donation-processing").text(""))},error:function(e){swal("Oops...","Something went wrong!","error")}})}})}),e(".select-value").click(function(a){e(".donate__button--submit").text("Donate $"+(a.target.value/100).toFixed(2)),t=a.target.value})})}(jQuery);