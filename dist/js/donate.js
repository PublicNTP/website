!function(e){var t=500,n=!1;e("#select-value").change(function(){var a="";e("select option:selected").each(function(){a+=e(this).text(),"Enter a value"!==a&&(a=100*parseFloat(a.substr(1)),t=a,e(".donate__button--submit").text("Donate $"+(a/100).toFixed(2))),"Enter a value"==a&&(n=!0,e(".donate__button--submit").text("Donate $0.00"),e(".select-style").css("display","none"),e(".donate__input").css("display","inline-block"),e(".donate__underline").removeClass("hide"),e(".donate__cash").removeClass("hide"))})}),e(".donate__input").dblclick(function(){e(".donate__cash").addClass("hide"),e(".donate__input").css("display","none"),e(".select-style").css("display","inline"),e(".donate__underline").addClass("hide")}),e(".donate__input").keyup(function(n){var a=parseInt(e(".donate__input").val());t=100*a,a>=0?e(".donate__button--submit").text("Donate $"+a.toFixed(2)):e(".donate__button--submit").text("Donate $0.00")}),e(".connect__input").focus(function(){e(e(this).siblings("label")[0]).addClass("connect__label--focused")}),Stripe.setPublishableKey("pk_test_hagCUEZIKkraUVhbV6gnNbB4"),e(".donate__button--submit").click(function(){e("#donation-processing").text("Processing donation"),e("#error-message").text("");var n=e("input[name=first_name]").val(),a=e("input[name=last_name]").val(),i=e("input[name=email]").val(),r=e("input[name=address]").val(),s=e("input[name=line_2]").val(),o=e("input[name=city]").val(),l=e("input[name=state]").val(),u=e("input[name=zip]").val(),d=e("input[name=card_number]").val(),p=e("input[name=ccv]").val(),c=e("input[name=expiration]").val(),m="",_=null,v=null,x=!1;-1!=c.indexOf("/")?(c=c.split("/"),_=c[0],v=c[1]):(m="Expiration Date must have a /",e("#error-message").text(m),x=!0),""!=n&&null!=n||(x=!0,m+="First name is required",e("#error-message").text(m)),""!=a&&null!=a||(x=!0,m+="Last name is required",e("#error-message").text(m)),""!=i&&null!=i||(x=!0,m+="Email is required",e("#error-message").text(m)),""!=r&&null!=r||(x=!0,m+="Address is required",e("#error-message").text(m)),""!=o&&null!=o||(x=!0,m+="City is required",e("#error-message").text(m)),""!=l&&null!=l||(x=!0,m+="State is required",e("#error-message").text(m)),""!=u&&null!=u||(x=!0,m+="Zip Code is required",e("#error-message").text(m)),Stripe.card.validateCardNumber(d)||(x=!0,m+="The credit card number appears to be invalid.",e("#error-message").text(m)),Stripe.card.validateCVC(p)||(x=!0,m+="The CVV number appears to be invalid.",e("#error-message").text(m)),Stripe.card.validateExpiry(_,v)||(x=!0,m+="The expiration date appears to be invalid.",e("#error-message").text(m)),x||Stripe.card.createToken({number:d,cvc:p,exp_month:_,exp_year:v},function(u,d){if(d.error)m+=d.error.message,e("#error-message").val(m);else{var p={payment_info:{required:{stripe_key:"test",amount:t,currency:"usd",source:d.id,description:"Test Donation"},optional:{donor_info:{donor_name:{last:a,first:n},address:{street_lines:[r,s],city:o,state_province_region:l,country:"US"},email:[i]}}}};e.ajax({url:"https://api.publicntp.org/v1/payment/request",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify(p),success:function(n){"succeeded"===n.status&&swal("Donation Sent","Thank you for your $"+t/100+" donation!","success").then(function(){e("input[name=first_name]").val(""),e("input[name=last_name]").val(""),e("input[name=email]").val(""),e("input[name=address]").val(""),e("input[name=line_2]").val(""),e("input[name=city]").val(""),e("input[name=state]").val(""),e("input[name=zip]").val(""),e("input[name=card_number]").val(""),e("input[name=ccv]").val(""),e("input[name=expiration]").val(""),e("#error-message").text(""),e("#donation-processing").text(""),e(".donate__input").val("")}),"error"===n.status&&(swal("Oops...",n.message,"error"),e("#donation-processing").text(""))},error:function(e){swal("Oops...","Something went wrong!","error")}})}})})}(jQuery);